$(function(){$(".jewmap__hamburger").on("click",function(){$("#js-jewmapHamburger").toggleClass("active"),$("#js-classifier").toggleClass("open"),$(window).width()<=600&&($(".leaflet-control-container").toggleClass("hide"),$("#js-lang").toggleClass("hide")),$(".popup").hasClass("open")&&($(".popup").removeClass("open"),$("#js-navListWrapper>ul>li>a").removeClass("active"))}),$("#js-navListWrapper>ul>li>a").on("click",function(){$("#js-jewmapHamburger").removeClass("active"),$("#js-classifier").removeClass("open"),$(window).width()<=600&&($(".leaflet-control-container").removeClass("hide"),$("#js-lang").removeClass("hide"))}),$('#js-classifier button[type="submit"]').click(function(e){e.preventDefault()}),$('#js-classifier input[type="text"]').on("change keydown keyup",function(){var t=$(this).val().toUpperCase(),o=t.length;$("#js-classifier ul").find("a").each(function(){var e=$(this).closest("li"),s=$(this).text().toUpperCase();(s=s.substring(0,o))!==t?e.hide():e.show()})});for(var e=[],s=["Москва","Санкт-Петербург","Новосибирск","Екатеринбург","Казань","Челябинск","Омск","Самара","Ростов-на-Дон","Уфа","Красноярск","Воронеж","Пермь","Волгоград","Краснодар","Саратов","Тюмень","Тольятти","Ижевск","Воронеж","Пермь","Волгоград","Краснодар","Саратов","Тюмень","Тольятти","Ижевск","Москва","Санкт-Петербург","Новосибирск","Екатеринбург","Казань","Челябинск","Омск","Самара","Ростов-на-Дон","Уфа","Красноярск","Воронеж","Пермь","Волгоград","Краснодар","Саратов","Тюмень","Тольятти","Ижевск","Воронеж","Пермь","Волгоград","Краснодар","Саратов","Тюмень","Тольятти","Ижевск"],t=0;t<s.length;t++)e.push({id:t,name:s[t],address:"",preson:"",phone:"",point:""});sortedArray=function(s){s.sort(function(e,s){return e.name<s.name?-1:e.name>s.name?1:0}),s.forEach(function(e){if("Санкт-Петербург"===e.name)return s.splice(s.indexOf(e),1),s.unshift(e),!1}),s.forEach(function(e){if("Москва"===e.name)return s.splice(s.indexOf(e),1),s.unshift(e),!1});for(var e=Math.ceil(s.length/2),t=s.splice(0,e),o=[],a=0;a<e;a++)void 0!==t[a]&&o.push(t[a]),void 0!==s[a]&&o.push(s[a]);return s=o}(e);var o;o=sortedArray,Array.prototype.forEach.call(o,function(e){var s=document.createDocumentFragment(),t=document.querySelector("#js-templateClassifierItem").content.querySelector(".classifier__list-item").cloneNode(!0);t.querySelector(".classifier__list-link").setAttribute("data-id",e.id),t.querySelector(".classifier__list-link").textContent=e.name,t.querySelector(".classifier__list-link").setAttribute("data-address",e.address),t.querySelector(".classifier__list-link").setAttribute("data-person",e.person),t.querySelector(".classifier__list-link").setAttribute("data-phone",e.phone),t.querySelector(".classifier__list-link").setAttribute("data-point",e.point),s.appendChild(t),document.querySelector(".classifier__list").append(s)}),$("#js-classifierScrollbar").scrollBox()}),$(function(){$("#js-lang a").on("click",function(){$("#js-lang a").removeClass("active"),$(this).addClass("active")})}),$(function(){var e=new L.LatLngBounds([30,15],[78,188]);$(window).width()<575&&(e=new L.LatLngBounds([40,25],[35,180])),L.mapbox.accessToken="pk.eyJ1IjoiYWxpYXBrbyIsImEiOiJjangyenVmeGMwcTFjM3lvNGhsdmUzejRoIn0.zdJYMN5sxS2SJXZV2Lb3aA";var s=L.map("map",{doubleClickZoom:!1,zoomControl:!0,zoomDelta:.25,zoomSnap:0,maxZoom:10,minZoom:2}).setView([63.674041,99.742382],4).addLayer(L.mapbox.styleLayer("mapbox://styles/aliapko/cjzle879c057t1cn6tnldfw7p"));s.fitBounds(e,{padding:[20,20]});var t=L.latLng(-89.98155760646617,-180),o=L.latLng(89.99346179538875,180),a=L.latLngBounds(t,o);s.setMaxBounds(a),s.on("drag",function(){s.panInsideBounds(a,{animate:!1})})}),$(function(){function s(){$("#js-navHamburger").removeClass("active"),$("#js-navListWrapper").slideUp()}$("#js-navListWrapper>ul>li>a").on("click",function(){$("#js-navListWrapper>ul>li>a").removeClass("active"),$(this).addClass("active"),$(window).width()<=600&&s()}),$("#js-navHamburger").on("click",function(){$("#js-navHamburger").toggleClass("active"),$("#js-navListWrapper").slideToggle()}),$(document).click(function(e){if($(window).width()<=600){if($(e.target).closest("#js-navListWrapper").length)return;if($(e.target).closest("#js-navHamburger").length)return;s(),event.stopPropagation()}}),$(window).on("resize",function(){600<$(window).width()?($("#js-navListWrapper").show(),$("#js-navHamburger").removeClass("active")):s()})}),$(function(){$(".popup__main").scrollBox(),$("#js-navListWrapper>ul>li>a").on("click",function(){var e=$(this).attr("data-popup");$("#js-"+e).hasClass("open")||($("#js-jewmapHamburger").addClass("move"),$("#js-jewmapSearch").addClass("move"),$(".popup").removeClass("open"),$("#js-"+e).addClass("open"))}),$(".popup__close").on("click",function(){$(".popup").removeClass("open"),$("#js-jewmapHamburger").removeClass("move"),$("#js-jewmapSearch").removeClass("move"),$("#js-navListWrapper>ul>li>a").removeClass("active")}),$(document).click(function(e){$(e.target).closest("#js-nav").length||$(e.target).closest(".popup").length||($(".popup").removeClass("open"),$("#js-jewmapHamburger").removeClass("move"),$("#js-jewmapSearch").removeClass("move"),$("#js-navListWrapper>ul>li>a").removeClass("active"),event.stopPropagation())})}),function(n,e,s){"use strict";var i="scrollBox",t={containerClass:"sb-container",containerNoScrollClass:"sb-container-noscroll",contentClass:"sb-content",scrollbarContainerClass:"sb-scrollbar-container",scrollBarClass:"sb-scrollbar"};function o(e,s){this.element=e,this.settings=n.extend({},t,s),this._defaults=t,this._name=i,this.init()}n.extend(o.prototype,{init:function(){this.addScrollbar(),this.addEvents(),this.onResize()},addScrollbar:function(){n(this.element).addClass(this.settings.containerClass),this.wrapper=n("<div class='"+this.settings.contentClass+"' />"),this.wrapper.append(n(this.element).contents()),n(this.element).append(this.wrapper),this.scollbarContainer=n("<div class='"+this.settings.scrollbarContainerClass+"' />"),this.scrollBar=n("<div class='"+this.settings.scrollBarClass+"' />"),this.scollbarContainer.append(this.scrollBar),n(this.element).prepend(this.scollbarContainer)},addEvents:function(){this.wrapper.on("scroll."+i,n.proxy(this.onScroll,this)),n(e).on("resize."+i,n.proxy(this.onResize,this)),this.scrollBar.on("mousedown."+i,n.proxy(this.onMousedown,this)),this.scrollBar.on("touchstart."+i,n.proxy(this.onTouchstart,this))},onTouchstart:function(t){var o=this;t.preventDefault();var a=o.scrollBar[0].offsetTop;n(s).on("touchmove."+i,function(e){var s=e.touches[0].pageY-t.touches[0].pageY;o.scrollBar[0].style.top=Math.min(o.scollbarContainer[0].clientHeight-o.scrollBar[0].clientHeight,Math.max(0,a+s))+"px",o.wrapper[0].scrollTop=o.wrapper[0].scrollHeight*o.scrollBar[0].offsetTop/o.scollbarContainer[0].clientHeight}),n(s).on("touchend."+i,function(){n(s).off("touchmove."+i),n(s).off("touchend."+i)})},onMousedown:function(t){var o=this;t.preventDefault();var a=o.scrollBar[0].offsetTop;n(s).on("mousemove."+i,function(e){var s=e.pageY-t.pageY;o.scrollBar[0].style.top=Math.min(o.scollbarContainer[0].clientHeight-o.scrollBar[0].clientHeight,Math.max(0,a+s))+"px",o.wrapper[0].scrollTop=o.wrapper[0].scrollHeight*o.scrollBar[0].offsetTop/o.scollbarContainer[0].clientHeight}),n(s).on("mouseup."+i,function(){n(s).off("mousemove."+i),n(s).off("mouseup."+i)})},onResize:function(){this.wrapper.css("max-height",n(this.element).height());var e=this.wrapper[0].clientHeight;this.scrollBar.css("height",this.scollbarContainer[0].clientHeight*e/this.wrapper[0].scrollHeight+"px"),this.scollbarContainer[0].clientHeight<=this.scrollBar[0].clientHeight?n(this.element).addClass(this.settings.containerNoScrollClass):n(this.element).removeClass(this.settings.containerNoScrollClass),this.onScroll()},onScroll:function(){this.scrollBar.css("top",Math.min(this.scollbarContainer[0].clientHeight-this.scrollBar[0].clientHeight,this.scollbarContainer[0].clientHeight*this.wrapper[0].scrollTop/this.wrapper[0].scrollHeight)+"px")}}),n.fn[i]=function(e){return this.each(function(){n.data(this,"plugin_"+i)||n.data(this,"plugin_"+i,new o(this,e))})}}(jQuery,window,document);
//# sourceMappingURL=main.min.js.map
