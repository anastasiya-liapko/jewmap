{"version":3,"sources":["classifier.js","lang.js","main.js","nav.js","popup.js","scroll-bar.js"],"names":["$","on","toggleClass","window","width","hasClass","removeClass","click","e","preventDefault","cityToFind","this","val","toUpperCase","cityToFindLength","length","find","each","cityWrapper","closest","city","text","substring","hide","show","citiesArray","cities","i","push","id","name","address","preson","phone","point","sortedArray","array","sort","a","b","forEach","elem","splice","indexOf","unshift","halfLength","Math","ceil","half","interimArray","undefined","sortArray","Array","prototype","call","fragmentMenuItem","document","createDocumentFragment","templateElement","querySelector","content","cloneNode","setAttribute","textContent","person","appendChild","append","scrollBox","addClass","BOUNDS_RUSSIA","L","LatLngBounds","mapbox","accessToken","map","doubleClickZoom","zoomControl","zoomDelta","zoomSnap","maxZoom","minZoom","setView","addLayer","styleLayer","fitBounds","padding","southWest","latLng","northEast","bounds","latLngBounds","setMaxBounds","panInsideBounds","animate","hideNavList","slideUp","slideToggle","target","event","stopPropagation","popup","attr","pluginName","defaults","containerClass","containerNoScrollClass","contentClass","scrollbarContainerClass","scrollBarClass","Plugin","element","options","settings","extend","_defaults","_name","init","addScrollbar","addEvents","onResize","wrapper","contents","scollbarContainer","scrollBar","prepend","proxy","onScroll","onMousedown","onTouchstart","ev","me","y","offsetTop","end","delta","touches","pageY","style","top","min","clientHeight","max","scrollTop","scrollHeight","off","css","height","wrapper_client_height","fn","data","jQuery"],"mappings":"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","file":"main.min.js","sourcesContent":["$(function () {\n    var MOBILE_WIDTH = 600;\n\n    // show/hide classifier on jewmap hamburger click\n    $('.jewmap__hamburger').on('click', function () {\n        $('#js-jewmapHamburger').toggleClass('active');\n        $('#js-classifier').toggleClass('open');\n        if ($(window).width() <= MOBILE_WIDTH) {\n            $('.leaflet-control-container').toggleClass('hide');\n            $('#js-lang').toggleClass('hide');\n        }\n        if ($('.popup').hasClass('open')) {\n            $('.popup').removeClass('open');\n            $('#js-navListWrapper>ul>li>a').removeClass('active');\n        }\n    });\n\n    // hide classifier on nav click\n    $('#js-navListWrapper>ul>li>a').on('click', function () {\n        $('#js-jewmapHamburger').removeClass('active');\n        $('#js-classifier').removeClass('open');\n        if ($(window).width() <= MOBILE_WIDTH) {\n            $('.leaflet-control-container').removeClass('hide');\n            $('#js-lang').removeClass('hide');\n        }\n    });\n\n    // remove submit button default behavior\n    $('#js-classifier button[type=\"submit\"]').click(function(e) {\n        e.preventDefault();\n    });\n\n    // show classifier items equal to entered by user\n    $('#js-classifier input[type=\"text\"]').on('change keydown keyup', function() {\n        var input = $(this);\n        var cityToFind = input.val().toUpperCase();\n        var cityToFindLength = cityToFind.length;\n        \n        var block = $('#js-classifier ul')\n\n        block.find('a').each(function() {\n            var cityWrapper = $(this).closest('li');\n            var city = $(this).text().toUpperCase();\n            city = city.substring(0, cityToFindLength);\n    \n            if (city !== cityToFind) {\n                cityWrapper.hide();\n            } else {\n                cityWrapper.show();\n            }\n        })\n    });\n    \n    var citiesArray = [];\n\n    var cities = \n    [\n        'Москва',\n        'Санкт-Петербург',\n        'Новосибирск',\n        'Екатеринбург',\n        'Казань',\n        'Челябинск',\n        'Омск',\n        'Самара',\n        'Ростов-на-Дон',\n        'Уфа',\n        'Красноярск',\n        'Воронеж',\n        'Пермь',\n        'Волгоград',\n        'Краснодар',\n        'Саратов',\n        'Тюмень',\n        'Тольятти',\n        'Ижевск',\n        'Воронеж',\n        'Пермь',\n        'Волгоград',\n        'Краснодар',\n        'Саратов',\n        'Тюмень',\n        'Тольятти',\n        'Ижевск',\n        'Москва',\n        'Санкт-Петербург',\n        'Новосибирск',\n        'Екатеринбург',\n        'Казань',\n        'Челябинск',\n        'Омск',\n        'Самара',\n        'Ростов-на-Дон',\n        'Уфа',\n        'Красноярск',\n        'Воронеж',\n        'Пермь',\n        'Волгоград',\n        'Краснодар',\n        'Саратов',\n        'Тюмень',\n        'Тольятти',\n        'Ижевск',\n        'Воронеж',\n        'Пермь',\n        'Волгоград',\n        'Краснодар',\n        'Саратов',\n        'Тюмень',\n        'Тольятти',\n        'Ижевск'\n    ]\n\n    // generate array with cities\n    for (var i = 0; i < cities.length; i++) {\n        citiesArray.push({\n            id: i,\n            name: cities[i],\n            address: '',\n            preson: '',\n            phone: '',\n            point: ''\n        })\n    }\n\n    // sort array\n    var sortArray = function (array) {\n\n        // sort by alphabet\n        array.sort(function(a, b){\n            if(a.name < b.name) { return -1; }\n            if(a.name > b.name) { return 1; }\n            return 0;\n        });\n\n        // spb to top\n        array.forEach(function (elem) {\n            if (elem.name === 'Санкт-Петербург') {\n                array.splice(array.indexOf(elem), 1)\n                array.unshift(elem);\n                return false;\n            }\n        });\n\n        // moscow to top\n        array.forEach(function (elem) {\n            if (elem.name === 'Москва') {\n                array.splice(array.indexOf(elem), 1)\n                array.unshift(elem);\n                return false;\n            }\n        });\n\n        // get index of center elem\n        var halfLength = Math.ceil(array.length / 2);\n\n        // cut array on two halves (half - first half, array - second half)\n        var half = array.splice(0, halfLength);\n\n        // add one elem from each half at a time\n        var interimArray = [];\n        \n        for (var i = 0; i < halfLength; i++) {\n            half[i] !== undefined ? interimArray.push(half[i]) : '';\n            array[i] !== undefined ? interimArray.push(array[i]) : '';\n        };\n\n        return array = interimArray;\n    }\n\n    sortedArray = sortArray(citiesArray);\n\n    // create classifier from template and array\n    var addPopup = function (array) {\n        // var fragmentMenu = document.createDocumentFragment();\n        // var template = document.querySelector('#js-templateClassifier').content.querySelector('.classifier');\n        // var templateElement = template.cloneNode(true);\n        // fragmentMenu.appendChild(templateElement);\n        // $('#js-jewmap').append(fragmentMenu);\n\n        Array.prototype.forEach.call(array, function (elem) {\n            var fragmentMenuItem = document.createDocumentFragment();\n            var template = document.querySelector('#js-templateClassifierItem').content.querySelector('.classifier__list-item');\n            var templateElement = template.cloneNode(true);\n            templateElement.querySelector('.classifier__list-link').setAttribute('data-id', elem.id);\n            templateElement.querySelector('.classifier__list-link').textContent = elem.name;\n            templateElement.querySelector('.classifier__list-link').setAttribute('data-address', elem.address);\n            templateElement.querySelector('.classifier__list-link').setAttribute('data-person', elem.person);\n            templateElement.querySelector('.classifier__list-link').setAttribute('data-phone', elem.phone);\n            templateElement.querySelector('.classifier__list-link').setAttribute('data-point', elem.point);\n            fragmentMenuItem.appendChild(templateElement);\n            document.querySelector('.classifier__list').append(fragmentMenuItem);\n        });\n\n        $('#js-classifierScrollbar').scrollBox();\n    }\n\n    addPopup(sortedArray);\n});","$(function () {\n    $('#js-lang a').on('click', function () {\n        $('#js-lang a').removeClass('active');\n        $(this).addClass('active');\n    })\n});","$(function () {\n    \n    var ZOOM = 4;\n    var BOUNDS_RUSSIA = new L.LatLngBounds([30.0, 15.0], [78.0, 188.0]);\n    if ($(window).width() < 575) {\n        BOUNDS_RUSSIA = new L.LatLngBounds([40.0, 25.0], [35.0, 180.0]);\n    }\n\n    L.mapbox.accessToken = 'pk.eyJ1IjoiYWxpYXBrbyIsImEiOiJjangyenVmeGMwcTFjM3lvNGhsdmUzejRoIn0.zdJYMN5sxS2SJXZV2Lb3aA';\n\n    var map = L.map('map', {\n        doubleClickZoom: false,\n        zoomControl: true,\n        zoomDelta: 0.25,\n        zoomSnap: 0,\n        maxZoom: 10,\n        minZoom: 2,\n        // maxBounds: new L.LatLngBounds([10.0, 15.0],[25.0, 188.0]),\n        // zoomSnap: 0,\n        // maxBoundsViscosity: 1\n    })\n        .setView([63.674041, 99.742382], ZOOM)\n        .addLayer(L.mapbox.styleLayer('mapbox://styles/aliapko/cjzle879c057t1cn6tnldfw7p'));\n\n    map.fitBounds(BOUNDS_RUSSIA, { padding: [20, 20] });\n\n    var southWest = L.latLng(-89.98155760646617, -180),\n    northEast = L.latLng(89.99346179538875, 180);\n    var bounds = L.latLngBounds(southWest, northEast);\n\n    map.setMaxBounds(bounds);\n    map.on('drag', function() {\n        map.panInsideBounds(bounds, { animate: false });\n    });\n        \n\n    // // add menu on map\n    // window.map_menu.addMenu(map, cities);\n\n\n    // // cities without clusters\n    // var layerWithCities = L.mapbox.featureLayer();\n    // var layerWithSmallCities = L.mapbox.featureLayer();\n\n    // function onClickCity(e) {\n    //     var point = e.target._latlng\n    //     var slug = e.target.options.slug\n    //     window.map_util.flyTo(map, [point.lat, point.lng])\n    //     // window.map_util.flyTo(map, point)\n    //     $(e.target).on('click', function () {\n    //         window.location.href = \"https://\" + DOMEN + \"/administrative-units/\" + slug;\n    //     })\n    // }\n\n    // // added markers to clasters layers\n    // Array.prototype.forEach.call(cities, function (markerElem) { \n\n    //     if (markerElem['show'] === true) {\n    //         var html = '<div class=\"map-page__cluster-cities d-flex flex-column\"><div class=\"map-page__cluster-cities-icon\"></div><span class=\"map-page__cluster-cities-label\">' + markerElem.name + '</span></div>';\n    //         var marker = L.marker(markerElem.point, {\n    //             icon: L.divIcon({\n    //                 html: html,\n    //                 className: 'myclustercity'\n    //             }),\n    //             slug: markerElem.slug,\n    //         }).addTo(layerWithCities);\n    //         marker.on('click', onClickCity);\n    //     } else {\n    //         var html = '<div class=\"map-page__cluster-cities d-flex flex-column\"><div class=\"map-page__cluster-cities-icon\"></div><span class=\"map-page__cluster-cities-label\">' + markerElem.name + '</span></div>';\n    //         var marker = L.marker(markerElem.point, {\n    //             icon: L.divIcon({\n    //                 html: html,\n    //                 className: 'myclustercity'\n    //             }),\n    //             slug: markerElem.slug,\n    //         }).addTo(layerWithSmallCities);\n    //         marker.on('click', onClickCity);\n    //     }\n    // })\n\n\n\n    // // show layers\n    // map.addLayer(layerWithCities)\n\n    // var setLayer = function (zoom) {\n    //     if (zoom > 5) {\n    //         map.addLayer(layerWithSmallCities)\n    //     } else {\n    //         map.removeLayer(layerWithSmallCities)\n    //     }\n    // }\n    // setLayer(ZOOM)\n    \n    // map.on('zoomend', function(e) {\n    //     var zoom = e.target._zoom;\n    //     setLayer(zoom)\n    // });\n    \n});\n    ","$(function () {\n    var MOBILE_WIDTH = 600;\n\n    // function for hiding nav list and toggle hamburger class\n    var hideNavList = function () {\n        $('#js-navHamburger').removeClass('active');\n        $('#js-navListWrapper').slideUp();\n    }\n\n    // show active nav item\n    $('#js-navListWrapper>ul>li>a').on('click', function () {\n        $('#js-navListWrapper>ul>li>a').removeClass('active');\n        $(this).addClass('active');\n        if ($(window).width() <= MOBILE_WIDTH) {\n            hideNavList();\n        }\n    });\n\n    // show/hide nav on hamburger click\n    $('#js-navHamburger').on('click', function () {\n        $('#js-navHamburger').toggleClass('active');\n        $('#js-navListWrapper').slideToggle();\n    });\n\n    // hide nav on outside click\n    $(document).click(function(e) {\n        if ($(window).width() <= MOBILE_WIDTH) {\n            if ($(e.target).closest('#js-navListWrapper').length) return;\n            if ($(e.target).closest('#js-navHamburger').length) return;\n            hideNavList();\n            event.stopPropagation();\n        }\n    });\n\n    // show/hide nav on resize\n    $(window).on('resize', function () {\n        if ($(window).width() > MOBILE_WIDTH) {\n            $('#js-navListWrapper').show();\n            $('#js-navHamburger').removeClass('active');\n        } else {\n            hideNavList();\n        }\n    })\n\n});","$(function () {\n\n    // init scrollbar\n    $('.popup__main').scrollBox();\n    \n    // show popup on nav click\n    $('#js-navListWrapper>ul>li>a').on('click', function () {\n        var popup = $(this).attr('data-popup');\n        if ($('#js-' + popup).hasClass('open')) return;\n        // $('#js-jewmapHamburger').removeClass('move');\n        $('#js-jewmapHamburger').addClass('move');\n        $('#js-jewmapSearch').addClass('move');\n        $('.popup').removeClass('open');\n        $('#js-' + popup).addClass('open');\n    });\n\n    // hide popup on close click\n    $('.popup__close').on('click', function () {\n        $('.popup').removeClass('open');\n        $('#js-jewmapHamburger').removeClass('move');\n        $('#js-jewmapSearch').removeClass('move');\n        $('#js-navListWrapper>ul>li>a').removeClass('active');\n    });\n\n    // hide popup on outside click\n    $(document).click(function(e) {\n        // if ($(window).width() <= MOBILE_WIDTH) {\n        if ($(e.target).closest('#js-nav').length) return;\n        if ($(e.target).closest('.popup').length) return;\n        $('.popup').removeClass('open');\n        $('#js-jewmapHamburger').removeClass('move');\n        $('#js-jewmapSearch').removeClass('move');\n        $('#js-navListWrapper>ul>li>a').removeClass('active');\n        event.stopPropagation();\n        // }\n    });\n\n});","/**\n * jQiery scrollBar Plugin\n * @author Falk Müller (www-falk-m.de)\n * Thankts to https://codepen.io/IliaSky/pen/obowmv\n */\n;( function( $, window, document ) {\n\n\t\"use strict\";\n\n\t\tvar pluginName = \"scrollBox\",\n\t\t\tdefaults = {\n\t\t\t\tcontainerClass: \"sb-container\",\n                                containerNoScrollClass: \"sb-container-noscroll\",\n                                contentClass: \"sb-content\",\n                                scrollbarContainerClass: \"sb-scrollbar-container\",\n                                scrollBarClass: \"sb-scrollbar\"\n                                \n\t\t\t};\n\n\t\t// plugin constructor\n\t\tfunction Plugin ( element, options ) {\n\t\t\tthis.element = element;\n\n\t\t\tthis.settings = $.extend( {}, defaults, options );\n\t\t\tthis._defaults = defaults;\n\t\t\tthis._name = pluginName;\n\t\t\tthis.init();\n                        \n\t\t}\n\n\t\t// Avoid Plugin.prototype conflicts\n\t\t$.extend( Plugin.prototype, {\n\t\t\tinit: function() {\n\n\t\t\t\tthis.addScrollbar();\n                                this.addEvents();\n                                this.onResize();\n\t\t\t},\n\t\t\taddScrollbar: function() {\n                                $( this.element ).addClass(this.settings.containerClass);\n                                this.wrapper = $(\"<div class='\" + this.settings.contentClass + \"' />\");\n                                this.wrapper.append($( this.element ).contents());\n                                $( this.element ).append( this.wrapper );\n                                \n                                this.scollbarContainer = $(\"<div class='\" + this.settings.scrollbarContainerClass + \"' />\");\n                                this.scrollBar = $(\"<div class='\" + this.settings.scrollBarClass + \"' />\");\n                                this.scollbarContainer.append(this.scrollBar);\n                                $( this.element ).prepend(this.scollbarContainer);\n\t\t\t},\n                        addEvents: function(){\n                            \n                            this.wrapper.on(\"scroll.\" + pluginName, $.proxy(this.onScroll, this) )\n                            $(window).on(\"resize.\" + pluginName, $.proxy(this.onResize, this) )\n                            \n                            this.scrollBar.on('mousedown.' + pluginName, $.proxy(this.onMousedown, this));\n                            this.scrollBar.on('touchstart.' + pluginName, $.proxy(this.onTouchstart, this));\n                        },\n                        \n                        onTouchstart: function(ev){\n                            var me = this;\n                            \n                            ev.preventDefault();\n                            var y = me.scrollBar[0].offsetTop;\n\n                            var onMove = function(end){\n                                   var delta = end.touches[0].pageY - ev.touches[0].pageY;\n                                   me.scrollBar[0].style.top = Math.min(me.scollbarContainer[0].clientHeight - me.scrollBar[0].clientHeight, Math.max(0, y + delta)) + 'px';\n                                   me.wrapper[0].scrollTop = (me.wrapper[0].scrollHeight * me.scrollBar[0].offsetTop / me.scollbarContainer[0].clientHeight);\n                            };\n\n                           $(document).on(\"touchmove.\" + pluginName, onMove);\n                           $(document).on(\"touchend.\" + pluginName, function(){\n                               $(document).off(\"touchmove.\" + pluginName);\n                               $(document).off(\"touchend.\" + pluginName);\n                           });\n                        },\n                        \n                        onMousedown: function(ev){\n                            var me = this;\n                            \n                            ev.preventDefault();\n                            var y = me.scrollBar[0].offsetTop;\n\n                            var onMove = function(end){\n                                   var delta = end.pageY - ev.pageY;\n                                   me.scrollBar[0].style.top = Math.min(me.scollbarContainer[0].clientHeight - me.scrollBar[0].clientHeight, Math.max(0, y + delta)) + 'px';\n                                   me.wrapper[0].scrollTop = (me.wrapper[0].scrollHeight * me.scrollBar[0].offsetTop / me.scollbarContainer[0].clientHeight);\n                            };\n\n                           $(document).on(\"mousemove.\" + pluginName, onMove);\n                           $(document).on(\"mouseup.\" + pluginName, function(){\n                               $(document).off(\"mousemove.\" + pluginName);\n                               $(document).off(\"mouseup.\" + pluginName);\n                           });\n                        },\n                        \n                        onResize: function(){\n                            \n                            this.wrapper.css(\"max-height\", $(this.element).height());\n                            \n                            var wrapper_client_height = this.wrapper[0].clientHeight;\n                            \n                            this.scrollBar.css(\"height\", this.scollbarContainer[0].clientHeight * wrapper_client_height / this.wrapper[0].scrollHeight + \"px\");\n                             if(this.scollbarContainer[0].clientHeight <= this.scrollBar[0].clientHeight){\n                                 $( this.element ).addClass(this.settings.containerNoScrollClass);\n                             } else {\n                                 $( this.element ).removeClass(this.settings.containerNoScrollClass);\n                             }\n                             \n                             this.onScroll();\n                        },\n                        \n                        onScroll: function(){\n                            \n                            this.scrollBar.css(\"top\", Math.min(this.scollbarContainer[0].clientHeight - this.scrollBar[0].clientHeight, this.scollbarContainer[0].clientHeight * this.wrapper[0].scrollTop / this.wrapper[0].scrollHeight) + \"px\");\n                            \n                        }\n\t\t} );\n\n\t\t// A really lightweight plugin wrapper around the constructor,\n\t\t// preventing against multiple instantiations\n\t\t$.fn[pluginName] = function( options ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tif ( !$.data( this, \"plugin_\" + pluginName ) ) {\n\t\t\t\t\t$.data( this, \"plugin_\" +\n\t\t\t\t\t\tpluginName, new Plugin( this, options ) );\n\t\t\t\t}\n\t\t\t} );\n\t\t};\n\n} )( jQuery, window, document );"]}